<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Petri Net Plans: learnpnp::LearnPlan Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Petri Net Plans
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacelearnpnp.html">learnpnp</a>      </li>
      <li class="navelem"><a class="el" href="classlearnpnp_1_1_learn_plan.html">LearnPlan</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">learnpnp::LearnPlan Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="learnpnp::LearnPlan" --><!-- doxytag: inherits="PetriNetPlans::PnpPlanTemplate" -->
<p>A <a class="el" href="namespace_petri_net_plans.html#a62bdbed25773851b18e0d93474bf9dc8" title="Definition of PnpPlan to simplify the code.">PetriNetPlans::PnpPlan</a> that uses a Reinforcement Learning algorithm to choose among non-deterministic transitions.  
 <a href="classlearnpnp_1_1_learn_plan.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="learn_plan_8h_source.html">learnPlan.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for learnpnp::LearnPlan:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlearnpnp_1_1_learn_plan.png" usemap="#learnpnp::LearnPlan_map" alt=""/>
  <map id="learnpnp::LearnPlan_map" name="learnpnp::LearnPlan_map">
<area href="class_petri_net_plans_1_1_pnp_plan_template.html" title="A generic plan." alt="PetriNetPlans::PnpPlanTemplate&lt; PnpPlaceClass, PnpTransitionClass &gt;" shape="rect" coords="375,56,740,80"/>
<area href="class_petri_net_plans_1_1_petri_net.html" alt="PetriNetPlans::PetriNet&lt; PnpPlaceClass, PnpTransitionClass &gt;" shape="rect" coords="0,0,365,24"/>
<area href="class_petri_net_plans_1_1_pnp_executable.html" title="The interface for executables (i.e. actions and plans)." alt="PetriNetPlans::PnpExecutable" shape="rect" coords="375,0,740,24"/>
<area href="class_petri_net_plans_1_1_condition_checker.html" title="The base class for parser-based condition checkers." alt="PetriNetPlans::ConditionChecker" shape="rect" coords="750,0,1115,24"/>
</map>
 </div></div>

<p><a href="classlearnpnp_1_1_learn_plan-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a7c653944e1159f9d3c900bf95971ae0b">LearnPlan</a> (<a class="el" href="class_petri_net_plans_1_1_executable_instantiator.html">PetriNetPlans::ExecutableInstantiator</a> *ei, <a class="el" href="classlearnpnp_1_1_reward_collector.html">learnpnp::RewardCollector</a> *rc, <a class="el" href="structlearnpnp_1_1_controller.html">Controller</a> *controller, const std::string <a class="el" href="class_petri_net_plans_1_1_petri_net.html#a625a09c1e5b625a296d97ed0fd12f5a0">name</a>=&quot;unnamed&quot;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">ctor  <a href="#a7c653944e1159f9d3c900bf95971ae0b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a6d696766486792ea7edfdcabd74038c9">LearnPlan</a> (const <a class="el" href="namespace_petri_net_plans.html#a62bdbed25773851b18e0d93474bf9dc8">PetriNetPlans::PnpPlan</a> &amp;networkStructure, <a class="el" href="structlearnpnp_1_1_controller.html">Controller</a> *controller)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#af552c78046f5b8076ea64a501d0b8dee">~LearnPlan</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">dtor  <a href="#af552c78046f5b8076ea64a501d0b8dee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::set<br class="typebreak"/>
&lt; <a class="el" href="struct_petri_net_plans_1_1_pnp_transition.html">PetriNetPlans::PnpTransition</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a4af3a4ea51326e1d411e48b7ad24092e">getAllEnabledTransitions</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests all the conditions and determines which transitions are enabled.  <a href="#a4af3a4ea51326e1d411e48b7ad24092e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a9dd3e3dc614f087361854f7a2f0da5bb">executeStep</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a step of a time extended executable.  <a href="#a9dd3e3dc614f087361854f7a2f0da5bb"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#afbf2423e8ab9bbb2f97c212833231e0e">CheckInputPlacesAndAdd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a16a28261f04f16783a05980bb3feaef6">CheckForConflictAndAdd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a36506686993151ac9c93ba9c5c455865">CompareSets</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a04c163e363fc312baaff2a6cbba15fdb">ValueOfSet</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a9ea17b511fc49a0bb688579a23459131">LearnPlanTest</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_learn_plan.html#afdc1655e79d6f1e5a0951a609a9128da">LearnPlanTest2</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="namespace_petri_net_plans.html#a62bdbed25773851b18e0d93474bf9dc8" title="Definition of PnpPlan to simplify the code.">PetriNetPlans::PnpPlan</a> that uses a Reinforcement Learning algorithm to choose among non-deterministic transitions. </p>
<p>The behaviour of a <a class="el" href="classlearnpnp_1_1_learn_plan.html" title="A PetriNetPlans::PnpPlan that uses a Reinforcement Learning algorithm to choose among non-determinist...">LearnPlan</a> is the same as <a class="el" href="namespace_petri_net_plans.html#a62bdbed25773851b18e0d93474bf9dc8" title="Definition of PnpPlan to simplify the code.">PetriNetPlans::PnpPlan</a> as long as no non-deterministic choice happens. Where two or more transitions are conflicting, that is they are all enabled but the firing of one precludes the firing of the others (for instance they all consume the same token from the same place), the <a class="el" href="structlearnpnp_1_1_controller.html" title="Controllers make decisions in non-deterministic choice points and take care of learning.">Controller</a> chooses the next marking.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Matteo Leonetti </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7c653944e1159f9d3c900bf95971ae0b"></a><!-- doxytag: member="learnpnp::LearnPlan::LearnPlan" ref="a7c653944e1159f9d3c900bf95971ae0b" args="(PetriNetPlans::ExecutableInstantiator *ei, learnpnp::RewardCollector *rc, Controller *controller, const std::string name=&quot;unnamed&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a7c653944e1159f9d3c900bf95971ae0b">learnpnp::LearnPlan::LearnPlan</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_petri_net_plans_1_1_executable_instantiator.html">PetriNetPlans::ExecutableInstantiator</a> *&#160;</td>
          <td class="paramname"><em>ei</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlearnpnp_1_1_reward_collector.html">learnpnp::RewardCollector</a> *&#160;</td>
          <td class="paramname"><em>rc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlearnpnp_1_1_controller.html">Controller</a> *&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;unnamed&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>ctor </p>
<dl class="attention"><dt><b>Attention:</b></dt><dd>this object becomes the owner of every object passed to the constructor but the <a class="el" href="classlearnpnp_1_1_reward_collector.html" title="Interface to collect the reward during execution and test external conditions.">RewardCollector</a>.</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ei</td><td>is the executable instantiator as for <a class="el" href="namespace_petri_net_plans.html#a62bdbed25773851b18e0d93474bf9dc8" title="Definition of PnpPlan to simplify the code.">PetriNetPlans::PnpPlan</a> </td></tr>
    <tr><td class="paramname">rc</td><td>is the reward collector that is also an external condition checker. It is used to accumulate the reward and test the conditions about the environment. </td></tr>
    <tr><td class="paramname">controller</td><td>is the component responsible for making the choices at non-deterministic points </td></tr>
    <tr><td class="paramname">name</td><td>is the name of this plan </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6d696766486792ea7edfdcabd74038c9"></a><!-- doxytag: member="learnpnp::LearnPlan::LearnPlan" ref="a6d696766486792ea7edfdcabd74038c9" args="(const PetriNetPlans::PnpPlan &amp;networkStructure, Controller *controller)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlearnpnp_1_1_learn_plan.html#a7c653944e1159f9d3c900bf95971ae0b">learnpnp::LearnPlan::LearnPlan</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_petri_net_plans.html#a62bdbed25773851b18e0d93474bf9dc8">PetriNetPlans::PnpPlan</a> &amp;&#160;</td>
          <td class="paramname"><em>networkStructure</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlearnpnp_1_1_controller.html">Controller</a> *&#160;</td>
          <td class="paramname"><em>controller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af552c78046f5b8076ea64a501d0b8dee"></a><!-- doxytag: member="learnpnp::LearnPlan::~LearnPlan" ref="af552c78046f5b8076ea64a501d0b8dee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classlearnpnp_1_1_learn_plan.html#af552c78046f5b8076ea64a501d0b8dee">learnpnp::LearnPlan::~LearnPlan</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>dtor </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9dd3e3dc614f087361854f7a2f0da5bb"></a><!-- doxytag: member="learnpnp::LearnPlan::executeStep" ref="a9dd3e3dc614f087361854f7a2f0da5bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classlearnpnp_1_1_learn_plan.html#a9dd3e3dc614f087361854f7a2f0da5bb">learnpnp::LearnPlan::executeStep</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Execute a step of a time extended executable. </p>
<p>If this executable is actually a plan this function fires the enabled transitions and in turn calls <a class="el" href="classlearnpnp_1_1_learn_plan.html#a9dd3e3dc614f087361854f7a2f0da5bb" title="Execute a step of a time extended executable.">executeStep()</a> on the action in the active places. If it is a temporary extended action it is just supposed to execute a step of that action. If the action is instantaneous this method can be let empty and never called (you will indeed use an adapter class (PnpAction) so that you don't even have to implement this method at all). </p>

<p>Reimplemented from <a class="el" href="class_petri_net_plans_1_1_pnp_plan_template.html#ab638996e93592112a60c31bf5508ba5e">PetriNetPlans::PnpPlanTemplate&lt; PnpPlaceClass, PnpTransitionClass &gt;</a>.</p>

</div>
</div>
<a class="anchor" id="a4af3a4ea51326e1d411e48b7ad24092e"></a><!-- doxytag: member="learnpnp::LearnPlan::getAllEnabledTransitions" ref="a4af3a4ea51326e1d411e48b7ad24092e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::set&lt;<a class="el" href="struct_petri_net_plans_1_1_pnp_transition.html">PetriNetPlans::PnpTransition</a>*&gt; <a class="el" href="classlearnpnp_1_1_learn_plan.html#a4af3a4ea51326e1d411e48b7ad24092e">learnpnp::LearnPlan::getAllEnabledTransitions</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tests all the conditions and determines which transitions are enabled. </p>
<p>A transition is enabled if its input places have enough tokens with respect to the edges' weights, and the condition associated to it holds. If no condition is associated to the transition than it is supposed to be <code>true</code>, that is the condition that always holds.</p>
<p>Please notice that not necessarily all the enabled transitions will be able to fire, since some of them could be competing for the same tokens creating a non-determinism.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the set of all enabled transitions </dd></dl>

<p>Reimplemented from <a class="el" href="class_petri_net_plans_1_1_pnp_plan_template.html#a82d6d9f9d9498cd109419aca31b98274">PetriNetPlans::PnpPlanTemplate&lt; PnpPlaceClass, PnpTransitionClass &gt;</a>.</p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="a16a28261f04f16783a05980bb3feaef6"></a><!-- doxytag: member="learnpnp::LearnPlan::CheckForConflictAndAdd" ref="a16a28261f04f16783a05980bb3feaef6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classlearnpnp_1_1_learn_plan.html#a16a28261f04f16783a05980bb3feaef6">CheckForConflictAndAdd</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afbf2423e8ab9bbb2f97c212833231e0e"></a><!-- doxytag: member="learnpnp::LearnPlan::CheckInputPlacesAndAdd" ref="afbf2423e8ab9bbb2f97c212833231e0e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classlearnpnp_1_1_learn_plan.html#afbf2423e8ab9bbb2f97c212833231e0e">CheckInputPlacesAndAdd</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a36506686993151ac9c93ba9c5c455865"></a><!-- doxytag: member="learnpnp::LearnPlan::CompareSets" ref="a36506686993151ac9c93ba9c5c455865" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classlearnpnp_1_1_learn_plan.html#a36506686993151ac9c93ba9c5c455865">CompareSets</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9ea17b511fc49a0bb688579a23459131"></a><!-- doxytag: member="learnpnp::LearnPlan::LearnPlanTest" ref="a9ea17b511fc49a0bb688579a23459131" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classlearnpnp_1_1_learn_plan.html#a9ea17b511fc49a0bb688579a23459131">LearnPlanTest</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="afdc1655e79d6f1e5a0951a609a9128da"></a><!-- doxytag: member="learnpnp::LearnPlan::LearnPlanTest2" ref="afdc1655e79d6f1e5a0951a609a9128da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classlearnpnp_1_1_learn_plan.html#afdc1655e79d6f1e5a0951a609a9128da">LearnPlanTest2</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a04c163e363fc312baaff2a6cbba15fdb"></a><!-- doxytag: member="learnpnp::LearnPlan::ValueOfSet" ref="a04c163e363fc312baaff2a6cbba15fdb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classlearnpnp_1_1_learn_plan.html#a04c163e363fc312baaff2a6cbba15fdb">ValueOfSet</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/pnp/learning_plan/<a class="el" href="learn_plan_8h_source.html">learnPlan.h</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 9 2014 02:16:35 for Petri Net Plans by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
