<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Petri Net Plans: learnpnp::LoggingController Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Petri Net Plans
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacelearnpnp.html">learnpnp</a>      </li>
      <li class="navelem"><a class="el" href="classlearnpnp_1_1_logging_controller.html">LoggingController</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">learnpnp::LoggingController Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="learnpnp::LoggingController" --><!-- doxytag: inherits="learnpnp::Controller" -->
<p>A <a class="el" href="structlearnpnp_1_1_controller.html" title="Controllers make decisions in non-deterministic choice points and take care of learning.">Controller</a> that can log markings' values at the end of each episode.  
 <a href="classlearnpnp_1_1_logging_controller.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_logging_controller_8h_source.html">LoggingController.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for learnpnp::LoggingController:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlearnpnp_1_1_logging_controller.png" usemap="#learnpnp::LoggingController_map" alt=""/>
  <map id="learnpnp::LoggingController_map" name="learnpnp::LoggingController_map">
<area href="structlearnpnp_1_1_controller.html" title="Controllers make decisions in non-deterministic choice points and take care of learning." alt="learnpnp::Controller" shape="rect" coords="185,0,360,24"/>
<area href="classlearnpnp_1_1_basic_controller.html" title="A simple controller that delegates learning to a Learner and exploration to a ExpPolicy." alt="learnpnp::BasicController" shape="rect" coords="92,112,267,136"/>
<area href="classlearnpnp_1_1_m_c_e_s_p___s_a_a.html" title="Implementation of MCESP_SAA, an algorithm for local optimization in N-MDPs." alt="learnpnp::MCESP_SAA" shape="rect" coords="277,112,452,136"/>
<area href="classlearnpnp_1_1_delayed_q_learning.html" title="An implementation of Delayed Q-Learning." alt="learnpnp::DelayedQLearning" shape="rect" coords="0,168,175,192"/>
<area href="classlearnpnp_1_1_q_learning.html" title="An implementation of Q-Learning." alt="learnpnp::QLearning" shape="rect" coords="185,168,360,192"/>
</map>
 </div></div>

<p><a href="classlearnpnp_1_1_logging_controller-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_logging_controller.html#ac895803c35c7d8c01cc9a531ccd99abb">LoggingController</a> (<a class="el" href="classlearnpnp_1_1_learner.html">Learner</a> *<a class="el" href="classlearnpnp_1_1_logging_controller.html#a8db670aa77c77da21f20d04ad442458b">learner</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Created a <a class="el" href="classlearnpnp_1_1_logging_controller.html" title="A Controller that can log markings&#39; values at the end of each episode.">LoggingController</a> from a given learner.  <a href="#ac895803c35c7d8c01cc9a531ccd99abb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_logging_controller.html#aad5f316f62a3de64d38aea3adaafcc47">~LoggingController</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">virtual dtor  <a href="#aad5f316f62a3de64d38aea3adaafcc47"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_logging_controller.html#ab0b2655a1a94c90fbcc53736dae39839">visited</a> (const <a class="el" href="classlearnpnp_1_1_marking.html">Marking</a> &amp;current)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies this controller that a <a class="el" href="classlearnpnp_1_1_marking.html" title="A state of a Petri Net.">Marking</a> has been visited.  <a href="#ab0b2655a1a94c90fbcc53736dae39839"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_logging_controller.html#a922c3b4d20d5777c7c77f2e4835bdf1b">addLogger</a> (const <a class="el" href="classlearnpnp_1_1_place_logger.html">PlaceLogger</a> &amp;pl)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a given <a class="el" href="classlearnpnp_1_1_place_logger.html" title="Keeps track of the value of specified markings, and writes them on a file.">PlaceLogger</a> with this controller.  <a href="#a922c3b4d20d5777c7c77f2e4835bdf1b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlearnpnp_1_1_learner.html">Learner</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlearnpnp_1_1_logging_controller.html#a8db670aa77c77da21f20d04ad442458b">learner</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="structlearnpnp_1_1_controller.html" title="Controllers make decisions in non-deterministic choice points and take care of learning.">Controller</a> that can log markings' values at the end of each episode. </p>
<p>The actual logging is performed by <a class="el" href="classlearnpnp_1_1_place_logger.html" title="Keeps track of the value of specified markings, and writes them on a file.">PlaceLogger</a> s, that must be registered with the <a class="el" href="classlearnpnp_1_1_logging_controller.html" title="A Controller that can log markings&#39; values at the end of each episode.">LoggingController</a></p>
<p>here is an example of pseudocode: </p>
<div class="fragment"><pre class="fragment">set&lt;string&gt; interestingPlaces;

<span class="comment">//insert every marking you want to log</span>
interestingPlaces.insert(<span class="stringliteral">&quot;p1&quot;</span>);

<span class="comment">//create the place logger</span>
PlaceLogger logger(<span class="stringliteral">&quot;File_to_save_logging.txt&quot;</span>,interestingPlaces);

<span class="comment">//if it is the first episode, initialise logger</span>
<span class="keywordflow">if</span>(firstEpisode)
        logger.initialize()

<span class="comment">//instantiate the controller</span>
<span class="comment">//use the sub-class of LoggingController of your choice</span>
<a class="code" href="classlearnpnp_1_1_logging_controller.html#ac895803c35c7d8c01cc9a531ccd99abb" title="Created a LoggingController from a given learner.">LoggingController</a> *controller = <span class="keyword">new</span> <a class="code" href="classlearnpnp_1_1_logging_controller.html#ac895803c35c7d8c01cc9a531ccd99abb" title="Created a LoggingController from a given learner.">LoggingController</a>();

<span class="comment">//register the logger with the controller</span>
controller-&gt;addLogger(logger);
</pre></div><p>You may use multiple loggers with the same controller.</p>
<p>When the controller is destroyed, all registered place loggers output the value of the specified markings on the file, for each of those marking that have been visited during the current episode. Otherwise the output is a '?' (question mark).</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Matteo Leonetti </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac895803c35c7d8c01cc9a531ccd99abb"></a><!-- doxytag: member="learnpnp::LoggingController::LoggingController" ref="ac895803c35c7d8c01cc9a531ccd99abb" args="(Learner *learner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlearnpnp_1_1_logging_controller.html#ac895803c35c7d8c01cc9a531ccd99abb">learnpnp::LoggingController::LoggingController</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlearnpnp_1_1_learner.html">Learner</a> *&#160;</td>
          <td class="paramname"><em>learner</em></td><td>)</td>
          <td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Created a <a class="el" href="classlearnpnp_1_1_logging_controller.html" title="A Controller that can log markings&#39; values at the end of each episode.">LoggingController</a> from a given learner. </p>
<p>The <code>learner</code> is used to read values from its value function</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">learner</td><td>a <a class="el" href="classlearnpnp_1_1_learner.html" title="A generic algorithm based on a value function.">Learner</a> whose value function must be logged/ </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aad5f316f62a3de64d38aea3adaafcc47"></a><!-- doxytag: member="learnpnp::LoggingController::~LoggingController" ref="aad5f316f62a3de64d38aea3adaafcc47" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classlearnpnp_1_1_logging_controller.html#aad5f316f62a3de64d38aea3adaafcc47">learnpnp::LoggingController::~LoggingController</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>virtual dtor </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a922c3b4d20d5777c7c77f2e4835bdf1b"></a><!-- doxytag: member="learnpnp::LoggingController::addLogger" ref="a922c3b4d20d5777c7c77f2e4835bdf1b" args="(const PlaceLogger &amp;pl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlearnpnp_1_1_logging_controller.html#a922c3b4d20d5777c7c77f2e4835bdf1b">learnpnp::LoggingController::addLogger</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlearnpnp_1_1_place_logger.html">PlaceLogger</a> &amp;&#160;</td>
          <td class="paramname"><em>pl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Registers a given <a class="el" href="classlearnpnp_1_1_place_logger.html" title="Keeps track of the value of specified markings, and writes them on a file.">PlaceLogger</a> with this controller. </p>
<p>The registered <a class="el" href="classlearnpnp_1_1_place_logger.html" title="Keeps track of the value of specified markings, and writes them on a file.">PlaceLogger</a> <code>pl</code> will be notified when a <a class="el" href="classlearnpnp_1_1_marking.html" title="A state of a Petri Net.">Marking</a> has been visited, and when this controller is being destroyed, and it must write markings' values to the file.</p>
<p>Remember to initialise the place logger on the first episode to reset the file.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>the <a class="el" href="classlearnpnp_1_1_place_logger.html" title="Keeps track of the value of specified markings, and writes them on a file.">PlaceLogger</a> to be register </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab0b2655a1a94c90fbcc53736dae39839"></a><!-- doxytag: member="learnpnp::LoggingController::visited" ref="ab0b2655a1a94c90fbcc53736dae39839" args="(const Marking &amp;current)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classlearnpnp_1_1_logging_controller.html#ab0b2655a1a94c90fbcc53736dae39839">learnpnp::LoggingController::visited</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlearnpnp_1_1_marking.html">Marking</a> &amp;&#160;</td>
          <td class="paramname"><em>current</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Notifies this controller that a <a class="el" href="classlearnpnp_1_1_marking.html" title="A state of a Petri Net.">Marking</a> has been visited. </p>
<p>This function lets the loggers know whether a <a class="el" href="classlearnpnp_1_1_marking.html" title="A state of a Petri Net.">Marking</a> has been visited or not. Loggers only save the <a class="el" href="classlearnpnp_1_1_marking.html" title="A state of a Petri Net.">Marking</a>'s value if it has been visited during that episode. Must be called by the sub-classes for logging to take place.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">current</td><td>the <a class="el" href="classlearnpnp_1_1_marking.html" title="A state of a Petri Net.">Marking</a> that has been visited </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8db670aa77c77da21f20d04ad442458b"></a><!-- doxytag: member="learnpnp::LoggingController::learner" ref="a8db670aa77c77da21f20d04ad442458b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlearnpnp_1_1_learner.html">Learner</a>* <a class="el" href="classlearnpnp_1_1_logging_controller.html#a8db670aa77c77da21f20d04ad442458b">learnpnp::LoggingController::learner</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/pnp/learning_plan/algo/<a class="el" href="_logging_controller_8h_source.html">LoggingController.h</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 9 2014 02:16:35 for Petri Net Plans by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
